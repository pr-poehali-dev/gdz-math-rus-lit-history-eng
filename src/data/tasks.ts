export interface TaskStep {
  id: number;
  title: string;
  content: string;
  formula?: string;
}

export interface Task {
  id: number;
  subject: string;
  grade: string;
  chapter: string;
  topic: string;
  difficulty: 'Лёгкая' | 'Средняя' | 'Сложная';
  views: number;
  likes: number;
  question: string;
  steps: TaskStep[];
  answer: string;
  explanation: string;
}

export const tasks: Task[] = [
  {
    id: 1,
    subject: 'Математика',
    grade: '8 класс',
    chapter: 'Алгебра',
    topic: 'Квадратные уравнения',
    difficulty: 'Средняя',
    views: 1523,
    likes: 342,
    question: 'Решите квадратное уравнение: x² - 5x + 6 = 0',
    steps: [
      {
        id: 1,
        title: 'Определим коэффициенты',
        content: 'В уравнении x² - 5x + 6 = 0:\na = 1, b = -5, c = 6',
        formula: 'ax² + bx + c = 0',
      },
      {
        id: 2,
        title: 'Вычислим дискриминант',
        content: 'D = b² - 4ac\nD = (-5)² - 4·1·6 = 25 - 24 = 1',
        formula: 'D = b² - 4ac',
      },
      {
        id: 3,
        title: 'Найдём корни уравнения',
        content: 'x₁ = (-b + √D) / 2a = (5 + 1) / 2 = 3\nx₂ = (-b - √D) / 2a = (5 - 1) / 2 = 2',
        formula: 'x₁,₂ = (-b ± √D) / 2a',
      },
      {
        id: 4,
        title: 'Проверка',
        content: 'Подставим x₁ = 3: 3² - 5·3 + 6 = 9 - 15 + 6 = 0 ✓\nПодставим x₂ = 2: 2² - 5·2 + 6 = 4 - 10 + 6 = 0 ✓',
      },
    ],
    answer: 'x₁ = 3, x₂ = 2',
    explanation: 'Квадратное уравнение имеет два корня, так как дискриминант положителен (D > 0).',
  },
  {
    id: 2,
    subject: 'Русский язык',
    grade: '7 класс',
    chapter: 'Синтаксис',
    topic: 'Причастный оборот',
    difficulty: 'Средняя',
    views: 1204,
    likes: 287,
    question: 'Расставьте знаки препинания: Книга лежащая на столе принадлежит мне.',
    steps: [
      {
        id: 1,
        title: 'Найдём причастие',
        content: 'В предложении есть причастие "лежащая" (от глагола "лежать").\nОно отвечает на вопрос "какая?" и относится к слову "книга".',
      },
      {
        id: 2,
        title: 'Определим причастный оборот',
        content: 'Причастный оборот: "лежащая на столе"\nОн состоит из причастия "лежащая" и зависимых слов "на столе".',
      },
      {
        id: 3,
        title: 'Определим позицию оборота',
        content: 'Причастный оборот стоит ПОСЛЕ определяемого слова "книга".\nПравило: если причастный оборот стоит после определяемого слова, он выделяется запятыми.',
      },
      {
        id: 4,
        title: 'Расставим знаки препинания',
        content: 'Выделяем причастный оборот запятыми с двух сторон:\nКнига, лежащая на столе, принадлежит мне.',
      },
    ],
    answer: 'Книга, лежащая на столе, принадлежит мне.',
    explanation: 'Причастный оборот выделяется запятыми, так как стоит после определяемого слова.',
  },
  {
    id: 3,
    subject: 'Английский язык',
    grade: '9 класс',
    chapter: 'Grammar',
    topic: 'Present Perfect',
    difficulty: 'Средняя',
    views: 987,
    likes: 213,
    question: 'Переведите на английский: "Я уже сделал домашнее задание"',
    steps: [
      {
        id: 1,
        title: 'Определим время',
        content: 'Слово "уже" указывает на завершённое действие с результатом в настоящем.\nИспользуем Present Perfect.',
        formula: 'have/has + V3 (Past Participle)',
      },
      {
        id: 2,
        title: 'Выберем вспомогательный глагол',
        content: 'Подлежащее "I" (я) → используем "have"\n(He/She/It используют "has")',
      },
      {
        id: 3,
        title: 'Найдём третью форму глагола',
        content: 'Глагол "делать" = "do"\nТретья форма (V3) = "done"',
      },
      {
        id: 4,
        title: 'Составим предложение',
        content: 'I have done my homework.\n\n"already" (уже) ставим между have и done:\nI have already done my homework.',
      },
    ],
    answer: 'I have already done my homework.',
    explanation: 'Present Perfect используется для действий, завершённых к настоящему моменту с видимым результатом.',
  },
  {
    id: 4,
    subject: 'Литература',
    grade: '10 класс',
    chapter: 'Поэзия XIX века',
    topic: 'Анализ стихотворения',
    difficulty: 'Сложная',
    views: 856,
    likes: 198,
    question: 'Проанализируйте стихотворение А.С. Пушкина "Я помню чудное мгновенье"',
    steps: [
      {
        id: 1,
        title: 'Тема и идея',
        content: 'Тема: любовь как источник вдохновения\nИдея: любовь возрождает душу поэта, дарит творческие силы',
      },
      {
        id: 2,
        title: 'Композиция',
        content: 'Три части:\n1. Первая встреча с возлюбленной\n2. Годы разлуки и душевной пустоты\n3. Новая встреча и возрождение чувств',
      },
      {
        id: 3,
        title: 'Художественные средства',
        content: 'Эпитеты: "чудное мгновенье", "мимолётное виденье"\nМетафоры: "бурь порыв мятежный", "голос нежный"\nАнтитеза: жизнь с любовью / жизнь без любви',
      },
      {
        id: 4,
        title: 'Особенности стиля',
        content: 'Размер: ямб\nРифмовка: перекрёстная (ABAB)\nЛексика: возвышенная, романтическая\nИнтонация: восторженная, лирическая',
      },
    ],
    answer: 'Стихотворение о возрождающей силе любви',
    explanation: 'Пушкин показывает, как любовь преображает жизнь и дарит вдохновение.',
  },
  {
    id: 5,
    subject: 'Физика',
    grade: '9 класс',
    chapter: 'Механика',
    topic: 'Закон Ома',
    difficulty: 'Средняя',
    views: 1342,
    likes: 456,
    question: 'Найдите силу тока в цепи, если напряжение 12 В, а сопротивление 4 Ом',
    steps: [
      {
        id: 1,
        title: 'Запишем дано',
        content: 'Дано:\nU = 12 В (напряжение)\nR = 4 Ом (сопротивление)\n\nНайти: I (силу тока)',
      },
      {
        id: 2,
        title: 'Вспомним закон Ома',
        content: 'Закон Ома для участка цепи:\nСила тока прямо пропорциональна напряжению и обратно пропорциональна сопротивлению',
        formula: 'I = U / R',
      },
      {
        id: 3,
        title: 'Подставим значения',
        content: 'I = U / R\nI = 12 В / 4 Ом\nI = 3 А',
      },
      {
        id: 4,
        title: 'Запишем ответ',
        content: 'Сила тока в цепи составляет 3 ампера.\n\nЕдиницы измерения:\n[I] = В / Ом = А (ампер)',
      },
    ],
    answer: 'I = 3 А',
    explanation: 'По закону Ома сила тока равна отношению напряжения к сопротивлению.',
  },
  {
    id: 6,
    subject: 'Химия',
    grade: '8 класс',
    chapter: 'Неорганическая химия',
    topic: 'Реакции соединения',
    difficulty: 'Средняя',
    views: 934,
    likes: 267,
    question: 'Составьте уравнение реакции горения магния',
    steps: [
      {
        id: 1,
        title: 'Определим реагенты',
        content: 'Горение - это реакция с кислородом.\nРеагенты:\n• Магний (Mg)\n• Кислород (O₂)',
      },
      {
        id: 2,
        title: 'Определим продукт',
        content: 'При горении металла образуется оксид.\nПродукт: оксид магния (MgO)',
      },
      {
        id: 3,
        title: 'Составим схему реакции',
        content: 'Mg + O₂ → MgO\n\nПроверим количество атомов:\nСлева: Mg - 1, O - 2\nСправа: Mg - 1, O - 1\nУравнение не сбалансировано!',
      },
      {
        id: 4,
        title: 'Расставим коэффициенты',
        content: '2Mg + O₂ → 2MgO\n\nПроверка:\nСлева: Mg - 2, O - 2\nСправа: Mg - 2, O - 2 ✓\n\nЗакон сохранения массы выполнен!',
        formula: '2Mg + O₂ → 2MgO',
      },
    ],
    answer: '2Mg + O₂ → 2MgO',
    explanation: 'Магний соединяется с кислородом, образуя оксид магния с выделением света и тепла.',
  },
  {
    id: 7,
    subject: 'Информатика',
    grade: '9 класс',
    chapter: 'Алгоритмизация',
    topic: 'Циклы',
    difficulty: 'Средняя',
    views: 1123,
    likes: 334,
    question: 'Напишите программу на Python для вычисления суммы чисел от 1 до 10',
    steps: [
      {
        id: 1,
        title: 'Определим задачу',
        content: 'Нужно найти: 1 + 2 + 3 + 4 + 5 + 6 + 7 + 8 + 9 + 10\nИспользуем цикл for для перебора чисел',
      },
      {
        id: 2,
        title: 'Создадим переменную для суммы',
        content: 'sum = 0\n\nВ эту переменную будем добавлять каждое число',
      },
      {
        id: 3,
        title: 'Напишем цикл',
        content: 'for i in range(1, 11):\n    sum = sum + i\n\nrange(1, 11) создаёт числа от 1 до 10\n(правая граница не включается)',
      },
      {
        id: 4,
        title: 'Выведем результат',
        content: 'Полная программа:\n\nsum = 0\nfor i in range(1, 11):\n    sum = sum + i\nprint("Сумма:", sum)\n\nРезультат: Сумма: 55',
        formula: 'sum = 0\nfor i in range(1, 11):\n    sum += i\nprint(sum)',
      },
    ],
    answer: 'sum = 0\nfor i in range(1, 11):\n    sum += i\nprint(sum)',
    explanation: 'Цикл проходит по числам от 1 до 10 и добавляет каждое к общей сумме.',
  },
  {
    id: 8,
    subject: 'История',
    grade: '8 класс',
    chapter: 'Россия в XVIII веке',
    topic: 'Реформы Петра I',
    difficulty: 'Средняя',
    views: 745,
    likes: 189,
    question: 'Перечислите основные реформы Петра I',
    steps: [
      {
        id: 1,
        title: 'Военная реформа',
        content: '• Создание регулярной армии\n• Введение рекрутской повинности\n• Строительство военно-морского флота\n• Открытие военных училищ',
      },
      {
        id: 2,
        title: 'Административная реформа',
        content: '• Создание Сената (1711)\n• Введение коллегий вместо приказов\n• Деление страны на губернии\n• Табель о рангах (1722)',
      },
      {
        id: 3,
        title: 'Церковная реформа',
        content: '• Упразднение патриаршества\n• Создание Святейшего Синода\n• Подчинение церкви государству',
      },
      {
        id: 4,
        title: 'Экономические и социальные реформы',
        content: '• Строительство мануфактур\n• Развитие торговли\n• Введение нового летоисчисления\n• Реформа образования\n• Европеизация быта дворянства',
      },
    ],
    answer: 'Военная, административная, церковная, экономическая реформы',
    explanation: 'Реформы Петра I модернизировали Россию и превратили её в европейскую державу.',
  },
];

export const popularTasks = [
  { id: 1, subject: 'Математика', task: 'Задача №1', grade: '8 класс', views: 1523 },
  { id: 2, subject: 'Русский язык', task: 'Задача №2', grade: '7 класс', views: 1204 },
  { id: 3, subject: 'Английский язык', task: 'Задача №3', grade: '9 класс', views: 987 },
  { id: 5, subject: 'Физика', task: 'Задача №5', grade: '9 класс', views: 1342 },
  { id: 6, subject: 'Химия', task: 'Задача №6', grade: '8 класс', views: 934 },
  { id: 7, subject: 'Информатика', task: 'Задача №7', grade: '9 класс', views: 1123 },
];

export const getTaskById = (id: number): Task | undefined => {
  return tasks.find(task => task.id === id);
};

export const getTasksBySubject = (subject: string): Task[] => {
  return tasks.filter(task => task.subject === subject);
};
